(function(t){function e(e){for(var o,i,s=e[0],c=e[1],u=e[2],d=0,l=[];d<s.length;d++)i=s[d],r[i]&&l.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);f&&f(e);while(l.length)l.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(o=!1)}o&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},i={app:0},r={app:0},a=[];function s(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"846e3418"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={about:1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise(function(e,n){for(var o="css/"+({about:"about"}[t]||t)+"."+{about:"9d2385c8"}[t]+".css",r=c.p+o,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var u=a[s],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===o||d===r))return e()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){u=l[s],d=u.getAttribute("data-href");if(d===o||d===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var o=e&&e.target&&e.target.src||r,a=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");a.request=o,delete i[t],f.parentNode.removeChild(f),n(a)},f.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(f)}).then(function(){i[t]=0}));var o=r[t];if(0!==o)if(o)e.push(o[2]);else{var a=new Promise(function(e,n){o=r[t]=[e,n]});e.push(o[2]=a);var u,d=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(t),u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,a=new Error("Loading chunk "+t+" failed.\n("+o+": "+i+")");a.type=o,a.request=i,n[1](a)}r[t]=void 0}};var f=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,d.appendChild(l)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/vue-open-weather-map/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var f=d;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0943":function(t,e,n){},"21bb":function(t,e,n){"use strict";var o=n("bcc9"),i=n.n(o);i.a},4754:function(t,e,n){"use strict";var o=n("0943"),i=n.n(o);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"app"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)},r=[],a={name:"App",mounted:function(){this.$store.commit("SET_CITIES",this.$storage.get("cities")||[])}},s=a,c=(n("5c0b"),n("2877")),u=Object(c["a"])(s,i,r,!1,null,null,null);u.options.__file="App.vue";var d=u.exports,l=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("md-dialog-alert",{attrs:{"md-active":t.notFound,"md-content":t.error.cod+": "+t.error.message,"md-confirm-text":"OK"},on:{"update:mdActive":function(e){t.notFound=e}}}),n("search-form",{on:{search:t.addCity}}),t.userLocation.coord?n("div",[n("div",{staticClass:"md-layout md-gutter"},[n("h1",{staticClass:"md-layout-item md-size-100"},[t._v("Your city")]),n("city-item",{staticClass:"md-layout-item md-size-100",attrs:{city:t.userLocation,isDeletable:!1}})],1)]):t._e(),n("div",{staticClass:"md-layout md-gutter"},[n("h2",{staticClass:"md-layout-item md-size-100"},[t._v(t._s(t.cities.length?"Cities":"You haven't added cities. Please add city."))])]),n("transition-group",{staticClass:"md-layout md-gutter",attrs:{name:"list",tag:"div"}},t._l(t.cities,function(e){return n("div",{key:e.id,staticClass:"md-layout-item md-size-33 md-small-size-50 md-xsmall-size-100"},[n("city-item",{attrs:{city:e},on:{remove:t.removeCity}})],1)}))],1)},m=[],p=n("be94"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-dialog-confirm",{attrs:{"md-active":t.active,"md-title":"Do you really want to delete this city?","md-content":"","md-confirm-text":"Yes","md-cancel-text":"No"},on:{"update:mdActive":function(e){t.active=e},"md-cancel":t.onCancel,"md-confirm":t.onConfirm}}),n("md-card",{attrs:{"md-with-hover":""}},[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v(t._s(t.city.name)+", "+t._s(t.city.sys.country))])]),n("md-card-actions",[t.isDeletable?n("md-button",{staticClass:"md-fab",on:{click:function(e){t.active=!0}}},[n("md-icon",[t._v("delete")])],1):t._e(),n("router-link",{attrs:{tag:"md-button",to:{name:"city",params:{id:t.city.id}}}},[t._v("View details")])],1)],1)],1)},h=[],y={name:"CityItem",props:{city:Object,isDeletable:{type:Boolean,default:!0}},data:function(){return{active:!1}},methods:{onConfirm:function(){this.$emit("remove",this.city.id)},onCancel:function(){}}},g=y,b=(n("7099"),Object(c["a"])(g,v,h,!1,null,"23d731d0",null));b.options.__file="CityItem.vue";var _=b.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"md-layout md-gutter"},[n("div",{staticClass:"md-layout-item "},[n("md-field",[n("label",[t._v("Enter city")]),n("md-input",{on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.submit(e):null}},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}}),n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:!t.city},on:{click:t.submit}},[t._v("Add")])],1)],1)])},E=[],T={name:"SearchForm",data:function(){return{city:""}},methods:{submit:function(){this.city&&(this.$emit("search",this.city),this.city="")}}},w=T,O=(n("4754"),Object(c["a"])(w,C,E,!1,null,"7d36549f",null));O.options.__file="SearchForm.vue";var k=O.exports,A=n("2f62"),x={name:"home",components:{CityItem:_,SearchForm:k},data:function(){return{geoDialog:!1,geoErr:""}},computed:Object(p["a"])({},Object(A["b"])(["cities","userLocation","error"]),{notFound:{get:function(){return this.$store.state.notFound},set:function(){this.$store.commit("NOT_FOUND",{active:!1,error:{}})}}}),methods:{addCity:function(t){this.$store.dispatch("GET_WEATHER",{params:{q:t}})},removeCity:function(t){this.$store.commit("DELETE_CITY",t)},askForLocation:function(){var t=this;"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(e){var n=e.coords;t.$store.dispatch("GET_WEATHER",{params:{lat:n.latitude,lon:n.longitude},action:"SET_USER_LOCATION"})}):console.log("Geo location is not allowed")}},mounted:function(){this.askForLocation()}},S=x,j=(n("21bb"),Object(c["a"])(S,f,m,!1,null,null,null));j.options.__file="Home.vue";var D=j.exports;o["default"].use(l["a"]);var M=new l["a"]({mode:"history",base:"/vue-open-weather-map/",routes:[{path:"/",name:"home",component:D},{path:"/city/:id",name:"city",component:function(){return n.e("about").then(n.bind(null,"0d5f"))}}]}),I=(n("96cf"),n("1da1")),F=n("2909");o["default"].use(A["a"]);var N=new A["a"].Store({state:{cities:[],currentCity:{},userLocation:{},notFound:!1,error:{}},mutations:{NOT_FOUND:function(t,e){t.notFound=e.active,t.error=e.error},SET_CITIES:function(t,e){t.cities=e},ADD_CITY:function(t,e){t.cities=Object(F["a"])(t.cities).concat([e]),this._vm.$storage.set("cities",t.cities)},UPDATE_CITY:function(t,e){t.cities=t.cities.map(function(t){return t.id===e.id?e:t}),this._vm.$storage.set("cities",t.cities)},DELETE_CITY:function(t,e){t.cities=t.cities.filter(function(t){return t.id!==e}),this._vm.$storage.set("cities",t.cities)},SET_CURRENT_CITY:function(t,e){t.currentCity=e},SET_USER_LOCATION:function(t,e){t.userLocation=e}},actions:{GET_WEATHER:function(){var t=Object(I["a"])(regeneratorRuntime.mark(function t(e,n){var o,i,r,a,s,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,i=e.state,r=n.params,a=n.action,t.prev=2,t.next=5,this._vm.axios.get("weather",{params:r});case 5:s=t.sent,c=s.data,a?o(a,c):i.cities.some(function(t){return t.id===c.id})?o("UPDATE_CITY",c):o("ADD_CITY",c),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),o("NOT_FOUND",{active:!0,error:t.t0.response.data});case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(e,n){return t.apply(this,arguments)}}()}}),L=n("9483");Object(L["a"])("".concat("/vue-open-weather-map/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("51de"),n("0759");var $=n("9c30");o["default"].use($["MdButton"]),o["default"].use($["MdContent"]),o["default"].use($["MdTabs"]),o["default"].use($["MdCard"]),o["default"].use($["MdProgress"]),o["default"].use($["MdField"]),o["default"].use($["MdIcon"]),o["default"].use($["MdDialog"]),o["default"].use($["MdDialogConfirm"]),o["default"].use($["MdDialogAlert"]),o["default"].use($["MdTable"]),o["default"].use($["MdAutocomplete"]),o["default"].use($["MdMenu"]),o["default"].use($["MdList"]);var P=n("bc3a"),R=n.n(P),Y=n("a7fe"),z=n.n(Y);R.a.defaults.baseURL="https://api.openweathermap.org/data/2.5/",R.a.defaults.params={APPID:"26e150de0e59e398931e697b667d7c4b"},o["default"].use(z.a,R.a);var U=n("f83f"),B=n.n(U);o["default"].use(B.a,{prefix:"openweather_"});var G=n("755e");o["default"].use(G,{load:{key:"AIzaSyD1WGpVzmML2zsFTMQsgd75CLx198mKBCA",libraries:"places"}});var q=n("11c8"),H=function(t,e){var n=" °C";return e&&(n=e),(parseInt(t,10)-273.15).toFixed(2)+n};o["default"].filter("celsius",H),o["default"].use(q["a"]),o["default"].config.productionTip=!1,new o["default"]({router:M,store:N,render:function(t){return t(d)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var o=n("5e27"),i=n.n(o);i.a},"5e27":function(t,e,n){},7099:function(t,e,n){"use strict";var o=n("7cf8"),i=n.n(o);i.a},"7cf8":function(t,e,n){},bcc9:function(t,e,n){}});
//# sourceMappingURL=app.2e0bda93.js.map